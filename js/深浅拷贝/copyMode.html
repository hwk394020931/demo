<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>深浅拷贝的方式</title>
</head>
<body>
    <script>
        /*copy 的方式有三种 
        1、遍历赋值
        2、object.create()
        3、JSON.parse() 和 JSON.stringify()
        
        深浅拷贝的区分  

        b 复制 a ，改变a的值，如果b的值发生变化，那就是浅拷贝
        反之就是深拷贝。 
        
        */

        //遍历
        var obj = {
            a:"Hello",
            b:{
                a:"world",
                b: 111
            },
            c:[11,'jack','Tom'],
        }
        // objCopy（浅拷贝）
        // function simpleClone(objNew){
        //     var obj = {}
        //     for(var i in objNew){
        //         obj[i] = objNew[i];
        //     }
        //     return obj;
        // }
        // var objCopy = simpleClone(obj);
        // objCopy.b.b = 2222;  //修改 B 值, A值是否改变
        // console.log(obj);
        // console.log(objCopy);
        
        // Object.create()
        var objCopy = Object.create(obj);
        objCopy.b.a = "world11";
        console.log(obj);
        console.log(objCopy);  
        
        //Object。create() 属于浅拷贝

        // objCopy(深拷贝)
        // function deepClone(startObj,endObj){
        //     var obj = endObj || {}
        //     for (var i in startObj) {
        //         if(typeof startObj[i] === 'object'){
        //             //constrictor 属性返回对创建此对象的数组函数的引用
        //             obj[i] = startObj[i].constructor === Array ? []:{}
        //             deepClone(startObj[i],obj[i])
        //         }else{
        //             obj[i] = startObj[i];
        //         }                
        //     }
        //     return obj;
        // }
        // var objCopy = deepClone(obj);
        // objCopy.b.a = "world1",
        // obj
        // console.log(obj);
        // console.log(objCopy);

        //JSON.parse,JSON.stringfy
        //先把初始化对象类型转换成字符类型，再把字符类型转回对象类型
        // var objCopy = JSON.parse(JSON.stringify(obj)) //object -> string ->object
        // objCopy.b.a = "world1";
        // objCopy.c[0] = 222;
        // console.log(obj);
        // console.log(objCopy);

        //通过 JSON.parse 和 JSON.stringfy 是可以实现深拷贝的
    </script>
</body>
</html>